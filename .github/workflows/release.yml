name: Release

on:
  push:
    branches:
      - "version/*"
      - "release/*"
      - "testing/*"
  workflow_dispatch:

permissions:
  contents: write
  statuses: write

jobs:
  release:
    uses: Thodor12/operapublicacreator/.github/workflows/gradle.publish.yaml@fix/changelog-merging
    with:
      java: 21
      curse_release_type: ${{ contains(github.ref, 'release') && 'release' || 'beta' }}
      gradle_tasks: assemble
    secrets: inherit
